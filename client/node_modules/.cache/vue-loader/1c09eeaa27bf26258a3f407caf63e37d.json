{"remainingRequest":"/Users/lukemunro/Clones/csci430/hw4/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lukemunro/Clones/csci430/hw4/client/src/components/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lukemunro/Clones/csci430/hw4/client/src/components/User.vue","mtime":1620022305926},{"path":"/Users/lukemunro/Clones/csci430/hw4/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lukemunro/Clones/csci430/hw4/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lukemunro/Clones/csci430/hw4/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lukemunro/Clones/csci430/hw4/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnVXNlcicsCglkYXRhKCkgewoJCXJldHVybiB7CiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgdG9rZW46ICIiLAoJCQlpbWdzOiBbXSwKCQkJdXBsb2FkRmlsZTogW10sCgkJfTsKCX0sCglwcm9wczogewogICAgcmF3X3VzZXJuYW1lOiBTdHJpbmcsIAogICAgcmF3X3Rva2VuOiBTdHJpbmcsCiAgfSwKCW1ldGhvZHM6IHsKCQl1cGxvYWQoZXZ0KSB7CgkJCWV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC91cGxvYWQnOwoJCQl2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCQkJcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ3RhcmdldCcsIGUudGFyZ2V0LnJlc3VsdCk7CgkJCQljb25zdCBwYXlsb2FkID0gewoJCQkJCW5hbWU6IHRoaXMudXBsb2FkRmlsZS5uYW1lLAoJCQkJCWZpbGU6IGUudGFyZ2V0LnJlc3VsdCwKICAgICAgICAgIGNyZWF0b3JfbmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuLAoKCQkJCX0KCiAgICAgICAgYXhpb3MucG9zdChwYXRoLCBwYXlsb2FkKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIHRoaXMuaW1ncy5wdXNoKHBheWxvYWQpOwogICAgICB9CgoJCQkvLyBjb25zb2xlLmxvZygnZmlsZScsIHRoaXMudXBsb2FkRmlsZSk7CgoJCQlyZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLnVwbG9hZEZpbGUpOwogICAgICAvLyBjb25zb2xlLmxvZygnaW1ncycsIHRoaXMuaW1ncyk7CgkJfSwKICAgIGdldEltYWdlcygpIHsKICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvZ2V0SW1hZ2VzJzsKICAgICAgY29uc3QgcGF5bG9hZCA9IHsKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICB0b2tlbjogdGhpcy50b2tlbiwKICAgICAgfQogICAgICBheGlvcy5wb3N0KHBhdGgsIHBheWxvYWQpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvciAhPSBudWxsKXsKICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmltZ3MgPSByZXNwb25zZS5kYXRhLmltZ3M7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9Cgl9LAoJY3JlYXRlZCgpIHsKCQljb25zb2xlLmxvZygnY3JlYXRlZCcpOwogICAgdGhpcy51c2VybmFtZSA9IHRoaXMucmF3X3VzZXJuYW1lOwogICAgdGhpcy50b2tlbiA9IHRoaXMucmF3X3Rva2VuOwogICAgY29uc29sZS5sb2codGhpcy51c2VybmFtZSwgdGhpcy50b2tlbik7Cgl9Cn0K"},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <b-col>\n        <h1>Images for {{ username }}</h1>\n        <hr><br>\n        <button type=\"button\" @click='getImages' class=\"btn btn-success btn-sm\">Get Images</button>\n        <hr><br>\n      </b-col>\n    </div>\n    <b-row>\n    \t<b-col>\n    \t\t<b-form @submit='upload'>\n    \t\t\t<b-form-row>\n    \t\t\t\t<b-col>\n    \t\t\t\t</b-col>\n    \t\t\t\t<b-col>\n\t\t\t    \t\t<b-form-file v-model='uploadFile' plain>\n\t\t\t    \t\t</b-form-file>\n\t\t\t    \t\t<p>\n\t\t\t    \t\t\t{{ uploadFile.name }}\n\t\t\t    \t\t</p>\n\t\t\t    \t</b-col>\n\t\t\t    \t<b-col>\n\t\t\t    \t\t<b-button type='submit' variant='info'>Upload</b-button>\n\t\t\t    \t</b-col>\n\t\t\t    \t<b-col>\n\t\t\t    \t</b-col>\n\t\t    \t</b-form-row>\n\t    \t</b-form>\n    \t</b-col>\n    </b-row>\n    <hr>\n    <b-row class=\"mt-2\" v-for=\"(item) in imgs\" :key=\"imgs.index\">\n    \t<b-col>\n\t    \t<p> {{ item.name }} </p>\n\t    \t<img style=\"width: 200px; height:200px;\" :src=\"item.file\" >\n\t    </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n\tname: 'User',\n\tdata() {\n\t\treturn {\n      username: \"\",\n      token: \"\",\n\t\t\timgs: [],\n\t\t\tuploadFile: [],\n\t\t};\n\t},\n\tprops: {\n    raw_username: String, \n    raw_token: String,\n  },\n\tmethods: {\n\t\tupload(evt) {\n\t\t\tevt.preventDefault();\n      const path = 'http://localhost:5000/upload';\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = (e) => {\n        // console.log('target', e.target.result);\n\t\t\t\tconst payload = {\n\t\t\t\t\tname: this.uploadFile.name,\n\t\t\t\t\tfile: e.target.result,\n          creator_name: this.username,\n          token: this.token,\n\n\t\t\t\t}\n\n        axios.post(path, payload)\n          .then((response) => {\n            console.log(response);\n          })\n          .catch((error) => {\n            console.log('error', error);\n          });\n        this.imgs.push(payload);\n      }\n\n\t\t\t// console.log('file', this.uploadFile);\n\n\t\t\treader.readAsDataURL(this.uploadFile);\n      // console.log('imgs', this.imgs);\n\t\t},\n    getImages() {\n      const path = 'http://localhost:5000/getImages';\n      const payload = {\n        username: this.username,\n        token: this.token,\n      }\n      axios.post(path, payload)\n        .then((response) => {\n          console.log(response);\n          if (response.data.error != null){\n            alert(response.data.error);\n          } else {\n            this.imgs = response.data.imgs;\n          }\n        })\n        .catch((error) => {\n          console.log('error', error);\n        });\n    }\n\t},\n\tcreated() {\n\t\tconsole.log('created');\n    this.username = this.raw_username;\n    this.token = this.raw_token;\n    console.log(this.username, this.token);\n\t}\n}\n</script>"]}]}